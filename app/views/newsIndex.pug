extends layout
block content
	blockquote.layui-elem-quote 文章列表
	button.layui-btn 添加
	table.layui-table
		colgroup:col:col:col
		thead
			tr
				th ID
				th 标题
				th 作者
				th 创建时间
		tbody
			each news in newsList
				tr
					//-console.log(news.dataValues);
					-var data = news.dataValues;
					//-console.log(moment(data.createdAt).format('YYYY'))
					td #{data.newsId}
					td #{data.title}
					td #{data.writerName}
					td #{moment(data.createdAt).format('YYYY-MM-DD hh:mm:ss')}


	//
		script(type="text/html" id="barDemo")
			a.layui-btn.layui-btn-primary.layui-btn-xs(lay-event="detail") 查看
			a.layui-btn.layui-btn-xs(lay-event="edit") 编辑
			a.layui-btn.layui-btn-danger.layui-btn-xs(lay-event="del") 删除

	
	#pageDemo  
block script
	script.
		layui.use(['laypage', 'layer', 'table', 'element'], 
			function(){
				var laypage = layui.laypage, //分页
				layer = layui.layer, //弹层
				table = layui.table, //表格
				element = layui.element; //元素操作

				//- table.render({
				//- 	elem: '#test'
				//- 	,height: 332
				//- 	,url: '/news' //数据接口
				//- 	,page: true //开启分页
				//- 	,cols: [[ //表头
				//- 		{field: 'id', title: 'ID', width:80, sort: true, fixed: 'left'}
				//- 		,{field: 'title', title: '标题', width:80}
				//- 		,{field: 'sex', title: '性别', width:80, sort: true}
				//- 		,{field: 'city', title: '城市', width:80} 
				//- 		,{field: 'sign', title: '签名', width: 170}
				//- 		,{field: 'experience', title: '积分', width: 80, sort: true}
				//- 		,{field: 'score', title: '评分', width: 80, sort: true}
				//- 		,{field: 'classify', title: '职业', width: 80}
				//- 		,{field: 'wealth', title: '财富', width: 135, sort: true}
				//- 		,{fixed: 'right', width: 165, align:'center', toolbar: '#barDemo'}
				//- 	]]
				//- });

				
				laypage.render({
					elem: 'pageDemo' //分页容器的id
					,count: #{totalPage} //总页数
					,curr: #{currentPage} //当前页
					,limit: 1 //#{limit}
					,skin: '#1E9FFF' //自定义选中色值
					,skip: true //开启跳页
					,jump: function(obj, first){
					  if(!first){
					  location.href = '?page='+obj.curr;
					    //layer.msg('第'+ obj.curr +'页');
					  }
					}
				});
			});